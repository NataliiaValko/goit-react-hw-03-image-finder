{"version":3,"sources":["components/Modal/Modal.module.css","components/Gallery/Gallery.module.css","components/ImageDataView/ImageDataView.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css","components/ImageErrorView/ImageErrorView.module.css","components/ImageIdlingView/ImageIdlingView.module.css","components/Button/Button.module.css","components/Container/Container.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageDataView/ImageDataView.js","components/ImageErrorView/ImageErrorView.js","components/ImagePendingView/ImagePendingView.js","components/ImageIdlingView/ImageIdlingView.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Gallery/Gallery.js","components/Searchbar/Searchbar.js","service/image-api.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","ImageGalleryItem","id","openModal","toggleOnloading","webformatURL","largeImageURL","tags","onClick","e","target","dataset","large","src","alt","ImageGalleryItem__image","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","backdrop","content","type","button","Component","Loader","color","height","width","loader","ImageDataView","images","showModal","onLoading","closeModal","urlModal","onLoad","image","imageGallery__list","map","ImageErrorView","message","text","ImagePendingView","ImageIdlingView","ImageGallery","state","url","setState","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","error","status","Button","handleIncrement","Gallery","query","page","total","gallery","Searchbar","handleQueryChange","value","toLowerCase","trim","handleSubmit","preventDefault","onSubmit","toast","header","searchForm","searchForm__input","name","autoComplete","autoFocus","placeholder","onChange","searchForm__button","icon","keyPixabay","apiPixabay","fetchImage","fetch","then","response","json","Status","App","handleFormSubmit","newQuery","newPage","hits","setTimeout","catch","txt","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b6f7f77f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__vVAU6\",\"content\":\"Modal_content__3LFlp\",\"button\":\"Modal_button__1RnL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2bemD\",\"text\":\"Gallery_text__eIHdw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery__list\":\"ImageDataView_imageGallery__list__s04o9\",\"image\":\"ImageDataView_image__1yZnr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Yj61\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3oI3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3XD_N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__10QJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ImageErrorView_text__1JW-K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ImageIdlingView_text__1Hr0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2VTfs\"};","import s from \"./Container.module.css\";\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  id,\n  openModal,\n  toggleOnloading,\n  webformatURL,\n  largeImageURL,\n  tags = \"photo\",\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={(e) => {\n          openModal(e.target.dataset.large);\n          toggleOnloading();\n        }}\n        src={webformatURL}\n        data-large={largeImageURL}\n        alt={tags}\n        className={s.ImageGalleryItem__image}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toggleOnloading: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\r\n        <div className={s.content}>\r\n          <button\r\n            type=\"button\"\r\n            className={s.button}\r\n            onClick={this.props.onClose}\r\n          >\r\n            <GrClose />\r\n          </button>\r\n          {this.props.children}\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import CustomLoader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Loader = () => (\n  <>\n    <CustomLoader\n      type=\"Bars\"\n      color=\"#5ab1e4\"\n      height={80}\n      width={80}\n      className={s.loader}\n    />\n    <p>Loading...</p>\n  </>\n);\n\nexport default Loader;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageDataView.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport Modal from \"../Modal\";\nimport Loader from \"../Loader\";\n\nconst ImageDataView = ({\n  images,\n  showModal,\n  onLoading,\n  openModal,\n  closeModal,\n  urlModal,\n  toggleOnloading,\n}) => {\n  return (\n    <>\n      {showModal && (\n        <Modal onClose={closeModal}>\n          {onLoading && <Loader />}\n          <img\n            onLoad={toggleOnloading}\n            src={urlModal}\n            alt=\"\"\n            className={s.image}\n          />\n        </Modal>\n      )}\n\n      <ul className={s.imageGallery__list}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            openModal={openModal}\n            toggleOnloading={toggleOnloading}\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageDataView;\n\nImageDataView.propTypes = {\n  urlModal: PropTypes.string.isRequired,\n  toggleOnloading: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n  onLoading: PropTypes.bool.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageErrorView.module.css\";\n\nconst ImageErrorView = ({ message }) => {\n  return <p className={s.text}>Oops! {message}</p>;\n};\n\nexport default ImageErrorView;\n\nImageErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n","import OnLoader from \"../Loader\";\n\nconst ImagePendingView = () => {\n  return <OnLoader />;\n};\n\nexport default ImagePendingView;\n","import s from \"./ImageIdlingView.module.css\";\n\nconst ImageIdlingView = () => {\n  return <p className={s.text}>Please, enter your request!</p>;\n};\n\nexport default ImageIdlingView;\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport ImageDataView from \"../ImageDataView\";\nimport ImageErrorView from \"../ImageErrorView\";\nimport ImagePendingView from \"../ImagePendingView\";\nimport ImageIdlingView from \"../ImageIdlingView\";\n\nclass ImageGallery extends Component {\n  state = {\n    showModal: false,\n    urlModal: \"\",\n    onLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.showModal || prevState.showModal) {\n      return;\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  openModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      urlModal: url,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      urlModal: \"\",\n    }));\n  };\n\n  toggleOnloading = () => {\n    this.setState(({ onLoading }) => ({ onLoading: !onLoading }));\n  };\n\n  render() {\n    const { onLoading, showModal, urlModal } = this.state;\n    const { error, status, images } = this.props;\n\n    if (status === \"idle\") {\n      return <ImageIdlingView />;\n    }\n\n    if (status === \"pending\") {\n      return <ImagePendingView />;\n    }\n\n    if (status === \"rejected\") {\n      return <ImageErrorView message={error} />;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <ImageDataView\n          onLoading={onLoading}\n          toggleOnloading={this.toggleOnloading}\n          urlModal={urlModal}\n          images={images}\n          closeModal={this.closeModal}\n          openModal={this.openModal}\n          showModal={showModal}\n        />\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  page: PropTypes.number.isRequired,\n  error: PropTypes.string.isRequired,\n  status: PropTypes.string.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ text, handleIncrement }) => (\n  <button type=\"button\" className={s.button} onClick={handleIncrement}>\n    {text}\n  </button>\n);\n\nexport default Button;\n\nButton.propTypes = {\n  handleIncrement: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Gallery.module.css\";\nimport Container from \"../Container\";\nimport ImageGallery from \"../ImageGallery\";\nimport Button from \"../Button\";\n\nconst Gallery = ({\n  query,\n  images,\n  page,\n  error,\n  status,\n  total,\n  handleIncrement,\n}) => (\n  <section className={s.gallery}>\n    <Container>\n      {status === \"resolved\" && (\n        <p className={s.text}>Results on request of \"{query}\"</p>\n      )}\n      <ImageGallery\n        query={query}\n        images={images}\n        page={page}\n        error={error}\n        status={status}\n      />\n      {page < total && (\n        <Button text=\"Load more\" handleIncrement={handleIncrement} />\n      )}\n    </Container>\n  </section>\n);\n\nexport default Gallery;\n\nGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  page: PropTypes.number.isRequired,\n  error: PropTypes.string.isRequired,\n  status: PropTypes.string.isRequired,\n  total: PropTypes.number,\n  handleIncrement: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { toast } from \"react-toastify\";\nimport Container from \"../Container\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleQueryChange = (e) => {\n    this.setState({ query: e.currentTarget.value.toLowerCase().trim() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!this.state.query) {\n      toast.error(\"Please, enter your request!\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.header}>\n        <Container>\n          <form onSubmit={this.handleSubmit} className={s.searchForm}>\n            <input\n              className={s.searchForm__input}\n              name=\"queryToSearch\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleQueryChange}\n              value={this.state.query}\n            />\n            <button type=\"submit\" className={s.searchForm__button}>\n              <BsSearch className={s.icon} />\n            </button>\n          </form>\n        </Container>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","const keyPixabay = \"22065853-88fcaf807f7c22500af22ab22\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${keyPixabay}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\n\nconst apiPixabay = {\n  fetchImage,\n};\nexport default apiPixabay;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Gallery from \"../Gallery\";\nimport Searchbar from \"../Searchbar\";\nimport apiPixabay from \"../../service/image-api\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  MORE_LOAD: \"moreLoad\",\n};\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    page: 1,\n    error: \"\",\n    status: Status.IDLE,\n    total: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const newQuery = this.state.query;\n    const newPage = this.state.page;\n\n    if (prevState.query !== newQuery) {\n      this.setState({ status: Status.PENDING, error: \"\", images: [], page: 1 });\n      apiPixabay\n        .fetchImage(newQuery)\n        .then(({ hits, total }) => {\n          this.setState({\n            images: hits,\n            total: total / 12 > 500 ? 500 : total / 12,\n          });\n          return hits;\n        })\n        .then((hits) => {\n          setTimeout(() => {\n            hits[0]\n              ? this.setState({ status: Status.RESOLVED })\n              : this.setState({\n                  status: Status.REJECTED,\n                  error:\n                    \"We couldn’t find anything =/. Change your request, please!\",\n                });\n          }, 300);\n        })\n\n        .catch((txt) => {\n          this.setState({ status: Status.REJECTED, error: `${txt}` });\n        });\n    }\n\n    if (prevState.query === newQuery && prevState.page !== newPage) {\n      this.setState({ error: \"\" });\n      apiPixabay\n        .fetchImage(newQuery, newPage)\n        .then(({ hits, total }) => {\n          this.setState({\n            images: [...this.state.images, ...hits],\n            total: total / 12 > 500 ? 500 : total / 12,\n          });\n          return hits;\n        })\n        .then((hits) => {\n          setTimeout(() => {\n            hits[0]\n              ? this.setState({ status: Status.RESOLVED })\n              : this.setState({\n                  status: Status.REJECTED,\n                  error:\n                    \"We couldn’t find anything =/. Change your request, please!\",\n                });\n          }, 300);\n        })\n\n        .catch((txt) => {\n          this.setState({ status: Status.REJECTED, error: `${txt}` });\n        });\n    }\n  }\n\n  handleFormSubmit = (query) => {\n    this.setState({ query });\n  };\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const { query, images, page, error, status, total } = this.state;\n    return (\n      <>\n        <ToastContainer />\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <Gallery\n          handleIncrement={this.handleIncrement}\n          query={query}\n          images={images}\n          page={page}\n          error={error}\n          status={status}\n          total={total}\n        />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__20Kde\",\"searchForm\":\"Searchbar_searchForm__tQY3G\",\"searchForm__input\":\"Searchbar_searchForm__input__3Z392\",\"searchForm__button\":\"Searchbar_searchForm__button__3znW9\",\"icon\":\"Searchbar_icon__1foQJ\"};"],"sourceRoot":""}